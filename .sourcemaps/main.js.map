{"version":3,"sources":["../../src/pages/submit/submit.ts","../../src/pages/user/user.ts","../../src/providers/user/user.ts","../../src/pages/select/select.ts","../../src/validators/email.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/providers/patchnote-data.ts","../../src/providers/spotid-data.ts","../../src/app/youtube-player.component.ts","../../src/pages/result/result.ts","../../src/providers/search/search.ts","../../src/providers/spot/spot.ts","../../src/providers/news/news.ts","../../src/providers/pagination/pagination.ts","../../src/pages/login/login.ts","../../src/validators/username.ts","../../src/pages/publish/publish.ts","../../src/app/main.ts","../../src/app/app.component.ts","../../src/providers/auth-service/auth-service.ts","../../src/providers/spot-data.ts","../../src/pages/impressum/impressum.ts","../../src/pages/signup/signup.ts","../../src/pages/reset-password/reset-password.ts","../../src/pages/unpublished/unpublished.ts","../../src/components/auth/auth.ts","../../src/app/app.module.ts","../../src/pages/welcome/welcome.ts","../../src/pages/strategy-detail/strategy-detail.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Component, ViewChild } from '@angular/core';\nimport { NavController, NavParams, ToastController } from 'ionic-angular';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\nimport { SpotIdData } from '../../providers/spotid-data';\nimport { Http } from '@angular/http';\nimport { YoutubePlayerComponent } from '../../app/youtube-player.component';\nimport { DomSanitizer } from '@angular/platform-browser';\n\nimport { EndSecondsValidator } from  '../../validators/endSeconds';\nimport { StartSecondsValidator } from  '../../validators/startSeconds';\nimport { PictureValidator } from  '../../validators/picture';\nimport { AdditionalPictureValidator } from  '../../validators/additionalPicture';\n\n/*\n  Generated class for the Submit page.\n\n  See http://ionicframework.com/docs/v2/components/#navigation for more info on\n  Ionic pages and navigation.\n*/\n@Component({\n  selector: 'page-submit',\n  templateUrl: 'submit.html'\n})\nexport class SubmitPage {\n  @ViewChild('youtubePlayer') youtubePlayer: YoutubePlayerComponent;\n  @ViewChild('progress') progress;\n  @ViewChild('spotDetails') spotDetails;\n\n  private submitAttempt: boolean = false;\n  public detailsInvisible: boolean = true;\n\n  public saveButtonDisabled : boolean = false;\n  public safeVidUrl : any;\n\n  public spotHeadForm : any;\n  public youtubeDetailForm : any;\n  public gfycatDetailForm : any;\n  public twitchDetailForm : any;\n  public streamableDetailForm : any;\n  public vimeoDetailForm : any;\n  public redditDetailForm : any;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public toastCtrl: ToastController, public http: Http, public spotIdData : SpotIdData, public formBuilder: FormBuilder, private sanitizer: DomSanitizer) {\n    // validators\n    this.spotHeadForm = formBuilder.group({\n      title: ['', Validators.compose([Validators.required, Validators.maxLength(50), Validators.minLength(10), Validators.pattern('[a-zA-Z,. ]*')])],\n      strategy: ['', Validators.compose([Validators.required])],\n      tags: [[], Validators.compose([Validators.minLength(1), Validators.maxLength(3)])] \n    });\n\n    this.youtubeDetailForm = formBuilder.group({\n      startSeconds: ['', Validators.compose([Validators.required, Validators.min(0), Validators.pattern('[0-9]*')])],\n      endSeconds: ['', Validators.compose([Validators.required, Validators.min(0), Validators.pattern('[0-9]*')])],\n      videoId: ['', Validators.compose([Validators.required, Validators.maxLength(11), Validators.minLength(11), Validators.pattern('[0-9a-zA-Z_-]*')])]\n    });\n\n    this.gfycatDetailForm = formBuilder.group({\n      videoId: ['', Validators.compose([Validators.required, Validators.pattern('[0-9a-zA-Z]*')])]\n    });\n\n    this.twitchDetailForm = formBuilder.group({\n      videoId: ['', Validators.compose([Validators.required, Validators.pattern('[0-9a-zA-Z]*')])]\n    });\n\n    this.streamableDetailForm = formBuilder.group({\n      videoId: ['', Validators.compose([Validators.required, Validators.pattern('[0-9a-zA-Z]*')])]\n    });\n\n    this.vimeoDetailForm = formBuilder.group({\n      videoId: ['', Validators.compose([Validators.required, Validators.pattern('[0-9a-zA-Z]*')])]\n    });\n\n    this.redditDetailForm = formBuilder.group({\n      videoId: ['', Validators.compose([Validators.required])]\n    });\n  }\n\n  onChangeTag(val){\n    let tags = this.spotHeadForm.get('tags').value;\n    if ( tags.length > 2 ) {\n      tags.splice(3);\n      this.spotHeadForm.get('tags').setValue(tags);\n    }\n    console.log(this.spotHeadForm.get('tags').value)\n  }\n\n  isYoutube () {\n    return this.spotHeadForm.get('strategy').value === 'youtube';\n  }\n\n  isGfycat () {\n    return this.spotHeadForm.get('strategy').value === 'gfycat';\n  }\n\n  isTwitch () {\n    return this.spotHeadForm.get('strategy').value === 'twitch';\n  }\n\n  isStreamable () {\n    return this.spotHeadForm.get('strategy').value === 'streamable';\n  }\n\n  isVimeo () {\n    return this.spotHeadForm.get('strategy').value === 'vimeo';\n  }\n\n  isReddit () {\n    return this.spotHeadForm.get('strategy').value === 'reddit';\n  }\n\n\n  onVideoUrlChanged(event) {\n    let url :string = event.value;\n    let videoId :string = \"\";\n    if (this.isYoutube()) {\n      if (url.startsWith(\"https://www.youtube.com/watch\")) {\n        if (url.includes(\"?v=\")) {\n          videoId = url.substr(url.indexOf(\"?v=\") + 3, 11);\n        }\n        if (url.includes(\"&v=\")) {\n          videoId = url.substr(url.indexOf(\"&v=\") + 3, 11);\n        }\n        this.youtubeDetailForm.get('videoId').setValue(videoId);\n      }\n      this.refresh();\n      return;\n    } \n\n    if (this.isGfycat()) {\n      if (url.startsWith(\"https://gfycat.com\")) {\n        videoId = url.substr(19);\n        if (url.startsWith(\"https://gfycat.com/ifr/\")) {\n          videoId = url.substr(23);\n        }\n      } else {\n        videoId = url;\n      }\n      this.gfycatDetailForm.get('videoId').setValue(videoId);\n      this.safeVidUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\"https://www.gfycat.com/ifr/\" + videoId);\n      console.log(this.safeVidUrl);\n      return;\n    }\n\n    if (this.isTwitch()) {\n      if (url.startsWith(\"https://clips.twitch.tv/\")) {\n        videoId = url.substr(24);\n      } else {\n        videoId = url;\n      }\n      this.twitchDetailForm.get('videoId').setValue(videoId);\n      this.safeVidUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\"https://clips.twitch.tv/embed?clip=\" + videoId);\n      console.log(this.safeVidUrl);\n      return;\n    }\n\n    if (this.isStreamable()) {\n      if (url.startsWith(\"https://streamable.com/\")) {\n        videoId = url.substr(23);\n        if (url.startsWith(\"https://streamable.com/e/\")) {\n          videoId = url.substr(25);\n        }\n      } else {\n        videoId = url;\n      }\n      this.streamableDetailForm.get('videoId').setValue(videoId);\n      this.safeVidUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\"https://streamable.com/e/\" + videoId);\n      console.log(this.safeVidUrl);\n      return;\n    }\n\n    if (this.isVimeo()) {\n      if (url.startsWith(\"https://vimeo.com/\")) {\n        videoId = url.substr(18);\n      } else if (url.startsWith(\"https://player.vimeo.com/video/\")) {\n        videoId = url.substr(31);\n      } else {\n        videoId = url;\n      }\n\n      this.vimeoDetailForm.get('videoId').setValue(videoId);\n      this.safeVidUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\"https://player.vimeo.com/video/\" + videoId);\n      console.log(this.safeVidUrl);\n      return;\n    }\n\n    if (this.isReddit()) {\n      let bIsReddit = false;\n      if (url.startsWith(\"https://www.reddit.com/\")) {\n        bIsReddit = true;\n        videoId = url.substr(23);\n        let indexOfComments = videoId.indexOf(\"/comments/\"),\n          startOfId = indexOfComments + \"/comments/\".length,\n          restOfUrl = videoId.substr(startOfId),\n          endOfId = restOfUrl.indexOf(\"/\");\n        videoId = restOfUrl.substr(0, endOfId);\n        this.redditDetailForm.get('videoId').setValue(videoId);\n      } else if (url.startsWith(\"https://redd.it/\")) {\n        bIsReddit = true;        \n        videoId = url.substr(16);\n        this.redditDetailForm.get('videoId').setValue(videoId);\n      } \n\n      console.log(\"videoid: \"+ videoId);\n      \n      if (bIsReddit) {\n        this.safeVidUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\"https://www.reddit.com/mediaembed/\" + videoId);\n      } else {\n        this.safeVidUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\"\");\n        this.redditDetailForm.get('videoId').setValue(\"\");\n      }\n      console.log(this.safeVidUrl);\n      return;\n    }\n  }\n\n  refresh() {\n    if (!this.youtubeDetailForm.valid) {\n      return;\n    }\n\n    this.youtubePlayer.play({\n      videoId : this.youtubeDetailForm.get('videoId').value,\n      startSeconds: this.youtubeDetailForm.get('startSeconds').value,\n      endSeconds: this.youtubeDetailForm.get('endSeconds').value,\n    });\n  }\n\n  ionViewDidLoad() {\n    ga('set', 'page', '/submit');\n    ga('send', 'event', \"page\", \"visit\", \"submit\");\n\n    console.log('ionViewDidLoad SubmitPage');\n  }\n\n  savePressed () {\n    if (!this.spotHeadForm.valid) {\n      this.presentToast('Please fill out all the mandatory fields so we can process your great spot!');\n      this.submitAttempt = true;\n      return;\n    }\n    let strategy = this.spotHeadForm.get('strategy').value,\n        title = this.spotHeadForm.get('title').value,\n        tags = this.spotHeadForm.get('tags').value;\n\n    if (tags.length < 1) {\n      this.presentToast('Please add some tags');\n      return;\n    }\n\n    if (tags.length > 3) {\n      this.presentToast('Please remove some tags');\n      return;\n    }\n      \n    // if the user has selected youtube, the youtubeDetailForm needs to be valid\n    if ((strategy === 'youtube') && !this.youtubeDetailForm.valid) {\n      this.presentToast('Please fill out all the mandatory fields so we can process your great youtube video!');\n      return;\n    }\n    // if the user has selected youtube, and endSeconds < startSeconds \n    if ((strategy === 'youtube') && parseInt(this.youtubeDetailForm.get('endSeconds').value, 10) < parseInt(this.youtubeDetailForm.get('startSeconds').value, 10)) {\n      this.presentToast('The starting seconds need to be earlier than the end seconds.');\n      return;\n    }\n    // if the user has selected gfycat, the gfycatDetailForm needs to be valid\n    if ((strategy === 'gfycat') && !this.gfycatDetailForm.valid) {\n      this.presentToast('Please fill out all the mandatory fields so we can process your great gfycat video!');\n      return;\n    }\n    // if the user has selected twitch, the twitchDetailForm needs to be valid\n    if ((strategy === 'twitch') && !this.twitchDetailForm.valid) {\n      this.presentToast('Please fill out all the mandatory fields so we can process your great twitch video!');\n      return;\n    }\n    // if the user has selected streamable, the streamableDetailForm needs to be valid\n    if ((strategy === 'streamable') && !this.streamableDetailForm.valid) {\n      this.presentToast('Please fill out all the mandatory fields so we can process your great streamable video!');\n      return;\n    }\n    // if the user has selected vimeo, the vimeoDetailForm needs to be valid\n    if ((strategy === 'vimeo') && !this.vimeoDetailForm.valid) {\n      this.presentToast('Please fill out all the mandatory fields so we can process your great vimeo video!');\n      return;\n    }\n    // if the user has selected reddit, the redditDetailForm needs to be valid\n    if ((strategy === 'reddit') && !this.redditDetailForm.valid) {\n      this.presentToast('Please fill out all the mandatory fields so we can process your great reddit video!');\n      return;\n    }\n    debugger;\n    this.saveButtonDisabled = true;\n    var oSpot = {\n      title : title,\n      strategy : strategy,\n      tags : tags,\n      videoId : null,\n\n      // optional properties for youtube\n      startSeconds : null,\n      endSeconds : null\n    };\n    if (strategy === \"youtube\") {\n      oSpot.videoId = this.youtubeDetailForm.get('videoId').value;\n      oSpot.startSeconds = parseInt(this.youtubeDetailForm.get('startSeconds').value, 10);\n      oSpot.endSeconds = parseInt(this.youtubeDetailForm.get('endSeconds').value, 10);\n    } \n    if (strategy === \"gfycat\") {\n      oSpot.videoId = this.gfycatDetailForm.get('videoId').value;\n    }\n    if (strategy === \"twitch\") {\n      oSpot.videoId = this.twitchDetailForm.get('videoId').value;\n    }\n    if (strategy === \"streamable\") {\n      oSpot.videoId = this.streamableDetailForm.get('videoId').value;\n    }\n    if (strategy === \"vimeo\") {\n      oSpot.videoId = this.vimeoDetailForm.get('videoId').value;\n    }\n    if (strategy === \"reddit\") {\n      oSpot.videoId = this.redditDetailForm.get('videoId').value;\n    }\n\n    this.spotIdData.submitSpot(oSpot).then((spot: any) => {\n      if (spot) {\n        this.presentToast('Spot successfully created. Lean back while we verify your great spot!');\n      } else {\n        this.presentToast('Please log in before submitting a spot');\n      }\n    })\n  }\n\n  displayDetails() {\n    this.detailsInvisible = false;\n  }\n\n  presentToast(message) {\n    let toast = this.toastCtrl.create({\n      message: message,\n      duration: 7000\n    });\n    toast.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/submit/submit.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { UserProvider } from '../../providers/user/user';\nimport { StrategyDetailPage } from '../strategy-detail/strategy-detail'\n\n/**\n * Generated class for the UserPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@Component({\n  selector: 'page-user',\n  templateUrl: 'user.html',\n})\nexport class UserPage {\n  displayName : string = \"\";\n  spots : Array<any> = [];\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public userProvider : UserProvider) {\n    this.displayName = navParams.get(\"displayName\");   \n    this.userProvider.getUserSpots(this.displayName).then(spots => {\n      for (var key in spots) {\n        this.spots.push(spots[key]);\n      }\n    })\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad UserPage');\n  }\n\n  spotSelected (spot) {\n    this.navCtrl.push(StrategyDetailPage, {\n      mapName: spot.mapname,\n      strategy: spot.strategy,\n      spotId : spot.id\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/user/user.ts","import { Injectable } from '@angular/core';\nimport { firebaseConfig } from '../../app/app.module';\nimport { Http } from '@angular/http';\nimport { AuthServiceProvider } from '../auth-service/auth-service'\nimport { AngularFirestore, AngularFirestoreCollection } from 'angularfire2/firestore';\n\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/observable/of';\n\n/*\n  Generated class for the UserProvider provider.\n\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\n  for more info on providers and Angular DI.\n*/\n@Injectable()\nexport class UserProvider {\n  constructor(public http: Http, public authService : AuthServiceProvider, public firestore: AngularFirestore) { }\n  \n  private submitUser(user : any): Promise<any> {\n    return this.firestore.collection('tempuser').add(user);\n    // return this.http.post(firebaseConfig.databaseURL + '/tempuser.json', user)\n    //   .map(data => {\n    //     return data.json()\n    //   });\n  }\n\n  createUser(user : any) : Promise<any>{\n    return this.submitUser(user);\n  }\n\n/*   private loadUid (displayName : string) : Promise<any>{\n   return this.http.get(`https://pubgaddicts-b4ff7.firebaseio.com/displayNames/${displayName}.json`)\n    .map(data => {\n      return data.json()\n    }).toPromise(); \n  } */\n\n  private loadSpots (displayName : string) : Promise<any> {\n    return this.http.get(`https://pubgaddicts-b4ff7.firebaseio.com/fspots.json?orderBy=\"displayName\"&equalTo=\"${displayName}\"`)\n    .map(data => {\n      return data.json()\n    }).toPromise(); \n  }\n\n/*   private checkDisplayNameAlreadyExisting (displayName : string) : Promise<boolean> {\n    return this.http.get(`https://pubgaddicts-b4ff7.firebaseio.com/uids.json?orderBy=\"displayName\"&equalTo=${displayName}\"`)\n    .map(data => {\n      return data.json()\n    }).toPromise(); \n  } */\n\n  getUserSpots(displayName : string) : Promise<any>{\n    return this.loadSpots(displayName).then((spots : any) => {\n        return spots;\n    })\n  }\n\n/*   getUserAlreadyExisting(displayName : string) : Promise<boolean> {\n    return this.checkDisplayNameAlreadyExisting(displayName);\n  } */\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/user/user.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams, ToastController } from 'ionic-angular';\nimport { SpotData } from '../../providers/spot-data';\n\nimport { StrategyDetailPage } from '../strategy-detail/strategy-detail'\nimport { SubmitPage } from '../submit/submit'\nimport { AuthServiceProvider } from '../../providers/auth-service/auth-service'\nimport { SpotProvider } from '../../providers/spot/spot';\n\n\n/*\n  Generated class for the Select page.\n\n  See http://ionicframework.com/docs/v2/components/#navigation for more info on\n  Ionic pages and navigation.\n*/\n@Component({\n  selector: 'page-select',\n  templateUrl: 'select.html'\n})\nexport class SelectPage {\n  public category: string = \"\";\n  public spots: Array<any> = [];\n  private noMoreSpots: boolean = false;\n  public filter = \"date\";\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public spotData: SpotData, public authService : AuthServiceProvider, public toastCtrl: ToastController, public spotProvider : SpotProvider) {\n    this.category = navParams.get(\"category\");\n    this.spotProvider.reset();\n    this.spotProvider.init(`menu/${this.category}/spots`, this.filter, { reverse: true, prepend: false })\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad SelectPage');\n    ga('set', 'page', '/select');\n    ga('send', 'event', \"page\", \"visit\", \"select\");\n    ga('send', 'event', \"spot\", \"selected\", this.category);\n    \n  }\n\n  newestClicked() {\n    ga('send', 'event', \"filter\", \"newest\", \"clicked\");\n    \n    this.filter = \"date\";\n    this.spotProvider.reset();\n    this.spotProvider.init(`menu/${this.category}/spots`, this.filter, { reverse: true, prepend: false })\n  }\n\n  highestClicked() {\n    ga('send', 'event', \"filter\", \"highest\", \"clicked\");\n    \n    this.filter = \"rating\";\n    this.spotProvider.reset();  \n    this.spotProvider.init(`menu/${this.category}/spots`, this.filter, { reverse: true, prepend: false })    \n  }\n\n  openSpot(spotId) {\n   this.navCtrl.push(StrategyDetailPage, {spotId})\n  }\n\n  getThumbnail(spot) {\n    if (spot.strategy === 'gfycat') {\n      return \"https://thumbs.gfycat.com/\" + spot.videoId + \"-thumb100.jpg\";\n    }  \n  }\n\n  openSubmitPage() {\n    if (this.authService.authenticated) {\n      this.navCtrl.push(SubmitPage);\n    } else {\n      this.toastCtrl.create({\n        message: \"You need to login before submitting new stuff\",\n        duration: 2500\n      }).present();\n    }\n  } \n\n  doInfinite(infiniteScroll) {\n    console.log('Begin async operation');\n\n    this.spotProvider.more()\n    \n    this.spotProvider.loading.subscribe((loading : boolean) => {\n      if (!loading && infiniteScroll) {\n        infiniteScroll.complete();\n      }\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/select/select.ts","import { FormControl } from '@angular/forms';\n\nexport class EmailValidator {\n  \n  static isValid(control: FormControl){\n    const re = /^\\w+@[a-zA-Z_.]+?\\.[a-zA-Z]{2,3}$/.test(control.value);\n    \n    if (re){\n      return null;\n    }\n    \n    return {\n      \"invalidEmail\": true\n    };\n    \n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/validators/email.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 221;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 221\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 267;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 267\n// module chunks = 0","import { Injectable } from '@angular/core';\nimport { firebaseConfig } from '../app/app.module';\n\nimport { Http } from '@angular/http';\n\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/observable/of';\nimport 'rxjs/add/operator/toPromise';\n\nimport { FirebaseApp } from 'angularfire2';\nimport 'firebase/storage';\n\n\n@Injectable()\nexport class PatchnoteData {\n  dataPatchnotes: any;\n  patchNotes : Array<any> = [];\n  nextPatchNoteFile : number = 0;\n  \n  // caches\n  patchNoteCache : any = {};\n  newestPatchNoteFile : number = 0;\n  urlCache : any = {};\n\n  constructor(public http: Http, public firebaseApp : FirebaseApp) { }\n\n  private loadNewestPatchNoteFile () : Promise<any>{\n    if ( this.newestPatchNoteFile ) {\n      return Observable.of(this.newestPatchNoteFile).toPromise();\n    } else {\n      return this.http.get(firebaseConfig.databaseURL + '/news.json')\n        .map((rawData) => {\n          let data = rawData.json();\n          this.newestPatchNoteFile = data.newestPatchNoteFile;          \n          return data;\n        })\n        .toPromise();\n    }\n  }\n  \n  private downloadUrlContent (url, number) : Promise<any>{\n    if (number in this.patchNoteCache) {\n      return Observable.of(this.patchNoteCache[number]).toPromise();\n    } else {\n      return this.http.get(url)\n        .map((rawData) => {\n          let data = rawData.json();\n          this.patchNoteCache[number] = data;\n          return data;\n        })\n        .toPromise();\n    }\n  }\n\n  public getNextPatchNotes () {\n    let number = this.nextPatchNoteFile;\n    if (this.nextPatchNoteFile > 0) {\n      this.nextPatchNoteFile--;\n    }\n    return this.getPatchNoteByNumber(number);\n  }\n\n  public getInitialPatchNotes () : Promise<any> {\n    return new Promise((resolve, reject) => {\n      this.loadNewestPatchNoteFile().then((news) => {\n        this.nextPatchNoteFile = this.newestPatchNoteFile - 1;\n        return this.getPatchNoteByNumber(this.newestPatchNoteFile)\n      }).then((content) => {\n        resolve([content]);        \n      });\n    });\n  }\n\n  getPatchNoteByNumber (number : number) {\n    return new Promise((resolve, reject) => {\n      if (!number || number < 0) {\n        reject(\"no older patchnotes found\");\n      }\n      \n      let params = 'n/p/' + number + '.json';\n      if ( params in this.urlCache ) {\n        resolve(this.downloadUrlContent(this.urlCache[params], number));\n      } else {\n        this.firebaseApp.storage()\n          .ref(params)\n          .getDownloadURL()\n          .then(url => {\n            this.urlCache[params] = url;\n            resolve(this.downloadUrlContent(url, number));\n          })\n      }\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/patchnote-data.ts","import { Injectable } from '@angular/core';\nimport { firebaseConfig } from '../app/app.module';\n\nimport { Http } from '@angular/http';\nimport { AuthServiceProvider } from './auth-service/auth-service'\nimport { AngularFirestore, AngularFirestoreDocument, AngularFirestoreCollection } from 'angularfire2/firestore';\n\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/observable/empty'\nimport 'rxjs/add/observable/of';\n\n\n@Injectable()\nexport class SpotIdData {\n  constructor(public http: Http, public authService : AuthServiceProvider, public fireStore : AngularFirestore) { }\n\n  private submitPost(data : any): Promise<any> {\n      return this.fireStore.collection('tempf').add(data);\n      // return this.http.post(firebaseConfig.databaseURL + '/tempf.json', data)\n      //   .map(this.processMapIdData);\n  }\n\n  submitSpot(data : any) : Promise<any>{\n    if (this.authService.authenticated) {\n      data.displayName = this.authService.currentUser.displayName;\n      data.uid = this.authService.currentUser.uid;\n      return this.submitPost(data); //.map((data: any) => {\n      //   return data;\n      // });\n    } else {\n      return Promise.resolve(null);\n    }\n  }\n\n  processMapIdData(data) {\n      return data.json();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/spotid-data.ts","import { Component, Input, AfterViewInit } from '@angular/core';\n\n@Component({\n  selector: 'youtube-player',\n  template: `\n      <div style=\"padding: 16px;\" [id]=\"playerId\"></div>\n  `\n})\nexport class YoutubePlayerComponent implements AfterViewInit {\n  public player: any;\n  @Input() playerId: string = \"player\" + Math.floor(Math.random() * 100000);\n  @Input() vid: string = \"\";\n  @Input() start: number = 0;\n  @Input() end: number = 98;\n  @Input() height: string = \"390\";\n  @Input() width: string = \"640\";\n  \n  constructor() {\n    (<any>window).onYouTubePlayerAPIReady = function() {\n      this.getPlayer();\n    }.bind(this)\n  }\n\n  getPlayer () {\n    this.player = new window[\"YT\"].Player(this.playerId, {\n      height: this.height,\n      width: this.width,\n      videoId: this.vid,\n      playerVars: { 'autoplay': 1, 'loop': 1, 'controls': 0, 'fs': 0, 'iv_load_policy': 3, 'modestbranding': 1, 'playsinline': 1, 'rel': 0, 'showinfo': 0 },\n      events: {\n        'onReady': this.onPlayerReady.bind(this)\n      }\n    });\n  }\n\n  public play(mSettings) {\n    this.player.loadVideoById(mSettings);\n  }\n\n  ngAfterViewInit() {\n    if (window[\"YT\"].Player) {\n      this.getPlayer();\n    } \n  }\n\n  onPlayerReady(event) {\n    var player = event.target;\n    player.mute();\n    player.seekTo(this.start);\n    setInterval(function () {\n      if (player.getCurrentTime() > this.end) {\n        player.seekTo(this.start);\n      }\n    }, 100)\n    player.playVideo();\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/youtube-player.component.ts","import { Component, ViewChild } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { SearchProvider } from '../../providers/search/search';\nimport { StrategyDetailPage } from '../strategy-detail/strategy-detail'\n\n/**\n * Generated class for the ResultPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'page-result',\n  templateUrl: 'result.html',\n})\nexport class ResultPage {\n\n  @ViewChild('searchBar') searchBar: any;\n\n  results : Array<any> = [];\n  query : string = \"\";\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public searchProvider : SearchProvider) {\n    this.query = navParams.get(\"query\");\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ResultPage');\n    this.setSearchbarValue(this.query);\n  }\n\n  setSearchbarValue (value) {\n    this.searchBar.value = value;\n    this.search();\n    setTimeout(() => {\n      this.searchBar.setFocus();\n    },150);\n  }\n\n  search () {\n    let val = this.searchBar.value;\n\n    if (val && val.trim() != '' && val.length > 1) {\n      // request search result from service\n      this.searchProvider.search(val).then(results => {\n        this.results = results;\n      })\n    } else {\n      this.results = [];\n    }\n  }\n\n  resultSelected (result) {\n    this.navCtrl.push(StrategyDetailPage, {\n      mapName: result.mapName,\n      strategy: result.strategy,\n      spotId : result.id\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/result/result.ts","import { Injectable } from '@angular/core';\nimport { firebaseConfig } from '../../app/app.module';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\n\n/*\n  Generated class for the SearchProvider provider.\n\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\n  for more info on providers and Angular DI.\n*/\n@Injectable()\nexport class SearchProvider {\n\n  constructor(public http: Http) {\n    console.log('Hello SearchProvider Provider');\n  }\n\n  search(query) : Promise<any> {\n    return this.http.get(firebaseConfig.functionsURL + '/search?s=' + query).map(data => {\n      let results = [];\n      let o = data.json();\n      for (var i in o) {\n        let d = o[i];\n        d.id = i;\n        results.push(d);\n      }\n      return results;\n    }).toPromise();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/search/search.ts","import { Injectable } from '@angular/core';\nimport { AngularFirestore, AngularFirestoreCollection } from 'angularfire2/firestore';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/do';\nimport 'rxjs/add/operator/scan';\nimport 'rxjs/add/operator/take';\nimport 'rxjs/add/operator/first';\n\nimport { SpotData } from '../spot-data'\n\n// Options to reproduce firestore queries consistently\ninterface QueryConfig {\n  path: string, // path to collection\n  field: string, // field to orderBy\n  limit?: number, // limit per query\n  reverse?: boolean, // reverse order?\n  prepend?: boolean // prepend to source?\n}\n\n\n@Injectable()\nexport class SpotProvider {\n\n  // Source data\n  private _done = new BehaviorSubject(false);\n  private _loading = new BehaviorSubject(false);\n  private _data = new BehaviorSubject([]);\n\n  private query: QueryConfig;\n\n  // Observable data\n  public data: Observable<any>;\n  done: Observable<boolean> = this._done.asObservable();\n  loading: Observable<boolean> = this._loading.asObservable();\n\n  constructor(private afs: AngularFirestore, private spotData : SpotData) { }\n\n  // Initial query sets options and defines the Observable\n  init(path, field, opts?) {\n    this.query = { \n      path,\n      field,\n      limit: 5,\n      reverse: false,\n      prepend: false,\n      ...opts\n    }\n\n    const first = this.afs.collection(this.query.path, ref => {\n      return ref.orderBy(this.query.field, this.query.reverse ? 'desc' : 'asc')\n          .limit(this.query.limit)\n    })\n\n    this.mapAndUpdate(first)\n\n    // Create the observable array for consumption in components\n    this.data = this._data.asObservable()\n      .scan( (acc, val) => { \n        return this.query.prepend ? val.concat(acc) : acc.concat(val)\n      })\n  }\n\n  // Retrieves additional data from firestore\n  more() {\n    const cursor = this.getCursor()\n\n    const more = this.afs.collection(this.query.path, ref => {\n      return ref\n        .orderBy(this.query.field, this.query.reverse ? 'desc' : 'asc')\n        .limit(this.query.limit)\n        .startAfter(cursor)\n    })\n    this.mapAndUpdate(more)\n  }\n\n  // Determines the doc snapshot to paginate query \n  private getCursor() {\n    const current = this._data.value\n    if (current.length) {\n      return this.query.prepend ? current[0].doc : current[current.length - 1].doc \n    }\n    return null\n  }\n\n  // Maps the snapshot to usable format the updates source\n  private mapAndUpdate(col: AngularFirestoreCollection<any>) {\n\n    if (this._done.value || this._loading.value) { return };\n\n    // loading\n    this._loading.next(true)\n\n    // Map snapshot with doc ref (needed for cursor)\n    return col.snapshotChanges()\n      .do(arr => {\n\n        let values = arr.map(snap => {\n          const data = snap.payload.doc.data()\n          data.id = snap.payload.doc.id\n          const doc = snap.payload.doc\n          return { ...data, doc }\n        })\n  \n        // If prepending, reverse array\n        values = this.query.prepend ? values.reverse() : values\n\n        // load the spots\n        let aPromises : Promise<any>[] = [];\n        for (let i in values) {\n          let doc : any = values[i] ;\n          aPromises.push(this.spotData.getSpot(doc.id).then(spot => {\n            return Object.assign(values[i], spot);\n          }))\n        }\n\n        Promise.all(aPromises).then((params) => {\n          // update source with new values, done loading\n          this._data.next(values)\n          this._loading.next(false)\n  \n          // no more values, mark done\n          if (!values.length) {\n            this._done.next(true)\n          }\n        })\n    })\n    .take(1)\n    .subscribe()\n  }\n\n\n  // Reset the page\n  reset() {\n    this._data.next([])\n    this._done.next(false)\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/spot/spot.ts","import { Injectable } from '@angular/core';\nimport { AngularFirestore, AngularFirestoreCollection } from 'angularfire2/firestore';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/do';\nimport 'rxjs/add/operator/scan';\nimport 'rxjs/add/operator/take';\n\n// Options to reproduce firestore queries consistently\ninterface QueryConfig {\n  path: string, // path to collection\n  field: string, // field to orderBy\n  limit?: number, // limit per query\n  reverse?: boolean, // reverse order?\n  prepend?: boolean // prepend to source?\n}\n\n\n@Injectable()\nexport class NewsProvider {\n\n  // Source data\n  private _done = new BehaviorSubject(false);\n  private _loading = new BehaviorSubject(false);\n  private _data = new BehaviorSubject([]);\n\n  private query: QueryConfig;\n\n  // Observable data\n  public data: Observable<any>;\n  done: Observable<boolean> = this._done.asObservable();\n  loading: Observable<boolean> = this._loading.asObservable();\n\n\n  constructor(private afs: AngularFirestore) { }\n\n  // Initial query sets options and defines the Observable\n  init(path, field, opts?) {\n    this.query = { \n      path,\n      field,\n      limit: 5,\n      reverse: false,\n      prepend: false,\n      ...opts\n    }\n\n    const first = this.afs.collection(this.query.path, ref => {\n      return ref\n        .orderBy(this.query.field, this.query.reverse ? 'desc' : 'asc')\n        .limit(this.query.limit)\n    })\n\n    this.mapAndUpdate(first)\n\n    // Create the observable array for consumption in components\n    this.data = this._data.asObservable()\n      .scan( (acc, val) => { \n        return this.query.prepend ? val.concat(acc) : acc.concat(val)\n      })\n  }\n\n  // Retrieves additional data from firestore\n  more() {\n    const cursor = this.getCursor()\n\n    const more = this.afs.collection(this.query.path, ref => {\n      return ref\n              .orderBy(this.query.field, this.query.reverse ? 'desc' : 'asc')\n              .limit(this.query.limit)\n              .startAfter(cursor)\n    })\n    this.mapAndUpdate(more)\n  }\n\n  // Determines the doc snapshot to paginate query \n  private getCursor() {\n    const current = this._data.value\n    if (current.length) {\n      return this.query.prepend ? current[0].doc : current[current.length - 1].doc \n    }\n    return null\n  }\n\n  // Maps the snapshot to usable format the updates source\n  private mapAndUpdate(col: AngularFirestoreCollection<any>) {\n\n    if (this._done.value || this._loading.value) { return };\n\n    // loading\n    this._loading.next(true)\n\n    // Map snapshot with doc ref (needed for cursor)\n    return col.snapshotChanges()\n      .do(arr => {\n\n        let values = arr.map(snap => {\n          const data = snap.payload.doc.data()\n          const doc = snap.payload.doc\n          return { ...data, doc }\n        })\n  \n        // If prepending, reverse array\n        values = this.query.prepend ? values.reverse() : values\n\n        // update source with new values, done loading\n        this._data.next(values)\n        this._loading.next(false)\n\n        // no more values, mark done\n        if (!values.length) {\n          this._done.next(true)\n        }\n    })\n    .take(1)\n    .subscribe()\n  }\n\n\n  // Reset the page\n  reset() {\n    this._data.next([])\n    this._done.next(false)\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/news/news.ts","import { Injectable } from '@angular/core';\nimport { AngularFirestore, AngularFirestoreCollection } from 'angularfire2/firestore';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/do';\nimport 'rxjs/add/operator/scan';\nimport 'rxjs/add/operator/take';\n\n// Options to reproduce firestore queries consistently\ninterface QueryConfig {\n  path: string, // path to collection\n  field: string, // field to orderBy\n  limit?: number, // limit per query\n  reverse?: boolean, // reverse order?\n  prepend?: boolean // prepend to source?\n}\n\n\n@Injectable()\nexport class PaginationProvider {\n\n  // Source data\n  private _done = new BehaviorSubject(false);\n  private _loading = new BehaviorSubject(false);\n  private _data = new BehaviorSubject([]);\n\n  private query: QueryConfig;\n\n  // Observable data\n  public data: Observable<any>;\n  done: Observable<boolean> = this._done.asObservable();\n  loading: Observable<boolean> = this._loading.asObservable();\n\n\n  constructor(private afs: AngularFirestore) { }\n\n  // Initial query sets options and defines the Observable\n  init(path, field, opts?) {\n    this.query = { \n      path,\n      field,\n      limit: 5,\n      reverse: false,\n      prepend: false,\n      ...opts\n    }\n\n    const first = this.afs.collection(this.query.path, ref => {\n      return ref\n        .orderBy(this.query.field, this.query.reverse ? 'desc' : 'asc')\n        .limit(this.query.limit)\n    })\n\n    this.mapAndUpdate(first)\n\n    // Create the observable array for consumption in components\n    this.data = this._data.asObservable()\n      .scan( (acc, val) => { \n        return this.query.prepend ? val.concat(acc) : acc.concat(val)\n      })\n  }\n\n  // Retrieves additional data from firestore\n  more() {\n    const cursor = this.getCursor()\n\n    const more = this.afs.collection(this.query.path, ref => {\n      return ref\n              .orderBy(this.query.field, this.query.reverse ? 'desc' : 'asc')\n              .limit(this.query.limit)\n              .startAfter(cursor)\n    })\n    this.mapAndUpdate(more)\n  }\n\n  // Determines the doc snapshot to paginate query \n  private getCursor() {\n    const current = this._data.value\n    if (current.length) {\n      return this.query.prepend ? current[0].doc : current[current.length - 1].doc \n    }\n    return null\n  }\n\n  // Maps the snapshot to usable format the updates source\n  private mapAndUpdate(col: AngularFirestoreCollection<any>) {\n\n    if (this._done.value || this._loading.value) { return };\n\n    // loading\n    this._loading.next(true)\n\n    // Map snapshot with doc ref (needed for cursor)\n    return col.snapshotChanges()\n      .do(arr => {\n\n        let values = arr.map(snap => {\n          const data = snap.payload.doc.data()\n          data.id = snap.payload.doc.id\n          const doc = snap.payload.doc\n          return { ...data, doc }\n        })\n  \n        // If prepending, reverse array\n        values = this.query.prepend ? values.reverse() : values\n\n        // update source with new values, done loading\n        this._data.next(values)\n        this._loading.next(false)\n\n        // no more values, mark done\n        if (!values.length) {\n          this._done.next(true)\n        }\n    })\n    .take(1)\n    .subscribe()\n  }\n\n\n  // Reset the page\n  reset() {\n    this._data.next([])\n    this._done.next(false)\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/pagination/pagination.ts","import { Component } from '@angular/core';\nimport { \n  IonicPage, \n  NavController, \n  LoadingController, \n  Loading, \n  AlertController } from 'ionic-angular';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { AuthServiceProvider } from '../../providers/auth-service/auth-service';\nimport { EmailValidator } from '../../validators/email';\nimport { WelcomePage } from '../welcome/welcome';\n\n@IonicPage()\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html'\n})\nexport class LoginPage {\n\n  public loginForm:FormGroup;\n  public loading:Loading;\n\n  constructor(public navCtrl: NavController, public authData: AuthServiceProvider, \n    public formBuilder: FormBuilder, public alertCtrl: AlertController,\n    public loadingCtrl: LoadingController) {\n\n      this.loginForm = formBuilder.group({\n        email: ['', Validators.compose([Validators.required, EmailValidator.isValid])],\n        password: ['', Validators.compose([Validators.minLength(6), Validators.required])]\n      });\n    }\n\n    loginWithTwitter() {\n      this.authData.signInWithTwitter()\n      .then( authData => {\n        this.navCtrl.setRoot(WelcomePage);\n      }, error => {\n        this.loading.dismiss().then( () => {\n          let alert = this.alertCtrl.create({\n            message: error.message,\n            buttons: [\n              {\n                text: \"Ok\",\n                role: 'cancel'\n              }\n            ]\n          });\n          alert.present();\n        });\n      });\n    }\n\n    loginWithGoogle() {\n      this.authData.signInWithGoogle()\n      .then( authData => {\n        this.navCtrl.setRoot(WelcomePage);\n      }, error => {\n        this.loading.dismiss().then( () => {\n          let alert = this.alertCtrl.create({\n            message: error.message,\n            buttons: [\n              {\n                text: \"Ok\",\n                role: 'cancel'\n              }\n            ]\n          });\n          alert.present();\n        });\n      });\n    }\n\n    loginWithFacebook() {\n      this.authData.signInWithFacebook()\n      .then( authData => {\n        this.navCtrl.setRoot(WelcomePage);\n      }, error => {\n        this.loading.dismiss().then( () => {\n          let alert = this.alertCtrl.create({\n            message: error.message,\n            buttons: [\n              {\n                text: \"Ok\",\n                role: 'cancel'\n              }\n            ]\n          });\n          alert.present();\n        });\n      });\n    }\n\n    loginUser(){\n      if (!this.loginForm.valid){\n        console.log(this.loginForm.value);\n      } else {\n        this.authData.loginUser(this.loginForm.value.email, this.loginForm.value.password)\n        .then( authData => {\n          this.navCtrl.setRoot(WelcomePage);\n        }, error => {\n          this.loading.dismiss().then( () => {\n            let alert = this.alertCtrl.create({\n              message: error.message,\n              buttons: [\n                {\n                  text: \"Ok\",\n                  role: 'cancel'\n                }\n              ]\n            });\n            alert.present();\n          });\n        });\n\n        this.loading = this.loadingCtrl.create({\n          dismissOnPageChange: true,\n        });\n        this.loading.present();\n      }\n  }\n\n  goToResetPassword(){\n    this.navCtrl.push('ResetPasswordPage');\n  }\n\n  createAccount(){\n    this.navCtrl.push('SignupPage');\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","import { FormControl } from '@angular/forms';\nimport { Http } from '@angular/http';\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class UsernameValidator {\n\tconstructor(private http:Http){}\n\t\n  isValid(control: FormControl) : Promise <any> {\n\n\t\tlet value = control.value;    \n    if (!value){\n      return Promise.resolve({ \"username is empty\" : true });;\n    }\n\n\t\treturn this.http.get(`https://pubgaddicts-b4ff7.firebaseio.com/uids.json?orderBy=\"displayName\"&equalTo=\"${value}\"`)\n\t\t\t.map(data => {\n\t\t\t\treturn data.json()\n\t\t\t}).toPromise().then((data) => {\n\t\t\t\tif (Object.keys(data).length <= 0) {\n\t\t\t\t\treturn null;\n\t\t\t\t} else {\n\t\t\t\t\treturn { \"usernameAlreadyTaken\" : true };\n\t\t\t\t}\n\t\t\t});\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/validators/username.ts","import { Component, ViewChild } from '@angular/core';\nimport { firebaseConfig } from '../../app/app.module';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Http } from '@angular/http';\nimport { NavController, NavParams, ToastController } from 'ionic-angular';\nimport { SpotData } from '../../providers/spot-data';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { AngularFireDatabase, AngularFireObject } from 'angularfire2/database';\n\nimport { UserPage } from '../user/user';\n\n@Component({\n  selector: 'page-publish',\n  templateUrl: 'publish.html'\n})\nexport class PublishPage {\n  @ViewChild('container') container;\n  \n  public height: any;\n  private spotId: string;\n  public color;\n\n  public spotHeadForm : any;\n  public tags : String[];\n     \n  public safeVidUrl : any;\n\n  public spot = {\n    id : \"\",\n    title : \"\",\n    strategy : \"\",\n    mapName : \"\",\n    startSeconds : 0, \n    endSeconds : 0,\n    videoId : \"\",\n    picture_1 : \"\",\n    picture_2 : \"\",\n    picture_3 : \"\",\n    rating: 0,\n    published: true\n  }\n\n  public afRatingRef: AngularFireObject<any>;\n\n  constructor(public http: Http, public formBuilder: FormBuilder, public toastCtrl: ToastController, private angularFireDatabase: AngularFireDatabase, public navCtrl: NavController, public navParams: NavParams, public spotData: SpotData, private sanitizer: DomSanitizer) {\n    this.spotHeadForm = formBuilder.group({\n      title: ['', Validators.compose([Validators.required, Validators.maxLength(50), Validators.minLength(10)])],\n      tags: [[], Validators.compose([Validators.minLength(1), Validators.maxLength(3)])] \n    });\n    \n    this.angularFireDatabase = angularFireDatabase;\n    this.spotId = navParams.get(\"spotId\");\n    this.afRatingRef = this.angularFireDatabase.object('/Nspots/' + this.spotId + '/rating');\n    this.displaySpot();\n  }\n\n  displaySpot() {     \n    this.afRatingRef.valueChanges().subscribe();\n    this.spotData.getSpot(this.spotId).then(spot => {\n      this.spot = spot;\n      this.tags = Object.keys(spot.tags);\n\n      if (this.isGfycat()) {\n        this.safeVidUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\"https://www.gfycat.com/ifr/\" + spot.videoId);\n      }\n      if (this.isTwitch()) {\n        this.safeVidUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\"https://clips.twitch.tv/embed?clip=\" + spot.videoId);\n      }\n      if (this.isStreamable()) {\n        this.safeVidUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\"https://streamable.com/e/\" + spot.videoId);\n      }\n      if (this.isVimeo()) {\n        this.safeVidUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\"https://player.vimeo.com/video/\" + spot.videoId)\n      }\n      if (this.isReddit()) {\n        this.safeVidUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\"https://www.reddit.com/mediaembed/video/\" + spot.videoId)\n      }\n    });\n  }\n\n  acceptSpot(spotId) {    \n    this.http.post(firebaseConfig.functionsURL + '/Fpublish?id=' + spotId,\n      JSON.stringify({\n        title: this.spot.title,\n        tags: this.tags\n    })).subscribe(data => {\n      if (data.status === 200) {\n        this.presentToast(\"published successfully\");\n      }\n    });\n    //this.nextSpot();\n  }\n\n  rejectSpot(spotId) {\n    this.http.get(firebaseConfig.functionsURL + '/reject?id=' + spotId).subscribe(data => {\n      if (data.status === 200) {\n        this.presentToast(\"declined successfully\");\n      }\n    });\n    //this.nextSpot();\n  }\n\n  nextSpot() {\n    let subscription = this.spotData.getNextSpot(\"unpublished\", this.spotId).subscribe(s => {\n      if (!s.published) {\n        this.navCtrl.setPages([{page: PublishPage, params: {\n          spotId : s.id\n        }}]);\n      }\n      subscription.unsubscribe();\n    });\n  }\n\n  presentToast(message) {\n    let toast = this.toastCtrl.create({\n      message: message,\n      duration: 7000\n    });\n    toast.present();\n  } \n\n  isGfycat() {\n    return this.spot.strategy === 'gfycat';\n  }\n\n  isTwitch() {\n    return this.spot.strategy === 'twitch';\n  }\n\n  isYouTube() {\n    return this.spot.strategy === 'youtube';\n  }\n\n  isStreamable() {\n    return this.spot.strategy === 'streamable';\n  }\n\n  isVimeo() {\n    return this.spot.strategy === 'vimeo';\n  }\n  \n  isReddit() {\n    return this.spot.strategy === 'reddit';\n  }\n  \n  getVoteObject() {\n    if (typeof(Storage) !== \"undefined\") {\n      if (!localStorage.getItem(\"votes\")) {\n        localStorage.setItem(\"votes\", \"[]\");\n      } \n      return JSON.parse(localStorage.getItem(\"votes\"));\n    }\n    return [this.spotId]; //means: users with no storage already voted.\n  }\n  \n  setVoteObject(votes) {\n    if (typeof(Storage) !== \"undefined\" && votes) {\n      localStorage.setItem(\"votes\", JSON.stringify(votes));\n    }\n  }\n\n  mayVote() {\n    let votes = this.getVoteObject();\n    if (!votes.includes(this.spotId)) {\n      return true;  \n    }\n    return false;\n  }\n\n  saveVote() {\n    let votes = this.getVoteObject();\n    votes.push(this.spotId);\n    this.setVoteObject(votes);\n  }\n\n  vote(direction: boolean) {\n    let delta = direction ? 1 : -1;    \n    if (this.mayVote()) {\n      this.spot.rating += delta;\n\n      this.afRatingRef.set(this.spot.rating);\n      this.saveVote();\n    }\n  }\n\n  userPressed (spot) {\n    this.navCtrl.push(UserPage, {\n      displayName: spot.displayName\n    });\n  }\n\n  ionViewDidLoad() {\n    ga('set', 'page', '/publish');\n    ga('send', 'event', \"page\", \"visit\", \"publish\");\n    ga('send', 'event', \"spot\", \"publish\", this.spotId);\n\n    console.log('ionViewDidLoad PublishDetailPage');\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/publish/publish.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { Component, ViewChild } from '@angular/core';\nimport { Platform, Nav } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { SpotData } from '../providers/spot-data';\n\nimport { WelcomePage } from '../pages/welcome/welcome';\nimport { SelectPage } from '../pages/select/select';\n\nimport { StrategyDetailPage } from '../pages/strategy-detail/strategy-detail'\nimport { PaginationProvider } from '../providers/pagination/pagination';\n\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage = WelcomePage;\n  @ViewChild(Nav) nav: Nav;\n\n  categories: any[] = [];\n  noMoreCategories: boolean = false;\n\n  constructor(platform: Platform, public spotData : SpotData, public paginationProvider : PaginationProvider) {\n    this.paginationProvider.init('menu', 'amount', { tag: \"\", reverse: true, prepend: false })\n  }\n\n  openPage (category) {\n     // the nav component was found using @ViewChild(Nav)\n    // reset the nav to remove previous pages and only have this page\n    // we wouldn't want the back button to show in this scenario\n    this.nav.setRoot(SelectPage, { category: category.id });\n  }\n\n  doInfinite(infiniteScroll) {\n    console.log('Begin async operation');\n\n    this.paginationProvider.more()\n\n    this.paginationProvider.loading.subscribe((loading : boolean) => {\n      if (!loading && infiniteScroll) {\n        infiniteScroll.complete();\n      }\n    });\n\n\n  }\n\n  randomSpot() {\n    this.spotData.getRandomSpot().then(spot => {\n      this.nav.setRoot(StrategyDetailPage, { spotId : spot.id });\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Observable } from 'rxjs/Observable';\nimport { Injectable } from '@angular/core';\nimport { AngularFireAuth } from 'angularfire2/auth';\n// Do not import from 'firebase' as you'll lose the tree shaking benefits\nimport * as firebase from 'firebase/app';\n\n/*\n  Generated class for the AuthServiceProvider provider.\n\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\n  for more info on providers and Angular DI.\n*/\n@Injectable()\nexport class AuthServiceProvider {\n\n  private loggedInUser: firebase.User;\n  \n  constructor(private afAuth: AngularFireAuth) {\n    afAuth.authState.subscribe((user: firebase.User) => {\n      this.loggedInUser = user\n    });\n  }\n\n  get authenticated(): boolean {\n    return this.loggedInUser !== null;\n  }\n\n  get currentUser(): firebase.User {\n    return this.loggedInUser;\n  }\n\n  addDisplayName (displayName : string) {\n    let obs = this.afAuth.authState.subscribe((user : firebase.User) => {\n      obs.unsubscribe();\n      return user.updateProfile({\n        displayName: displayName,\n        photoURL: \"\"\n      });\n    });\n  }\n\n  // email password\n  loginUser(newEmail: string, newPassword: string): Promise<any> {\n    return this.afAuth.auth.signInWithEmailAndPassword(newEmail, newPassword);\n  }\n\n  resetPassword(email: string): Promise<any> {\n    return this.afAuth.auth.sendPasswordResetEmail(email);\n  }\n\n  logoutUser(): Promise<any> {\n    return this.afAuth.auth.signOut();\n  }\n\n  signupUser(newEmail: string, newPassword: string): Promise<any> {\n    return this.afAuth.auth.createUserWithEmailAndPassword(newEmail, newPassword);\n  }\n\n  // facebook\n  signInWithFacebook(): Promise<any> {\n    return this.afAuth.auth.signInWithPopup(new firebase.auth.FacebookAuthProvider());\n  }\n\n  // google\n  signInWithGoogle(): Promise<any> {\n    return this.afAuth.auth.signInWithPopup(new firebase.auth.GoogleAuthProvider());\n  }\n\n  // twitter\n  signInWithTwitter(): Promise<any> {\n    return this.afAuth.auth.signInWithPopup(new firebase.auth.TwitterAuthProvider());\n  }\n\n  signOut(): void {\n    this.afAuth.auth.signOut();\n  }\n\n  displayName(): string {\n    if (this.loggedInUser !== null) {\n      return this.loggedInUser.displayName;\n    } else {\n      return '';\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/auth-service/auth-service.ts","import { Injectable } from '@angular/core';\nimport { firebaseConfig } from '../app/app.module';\n\nimport { Http } from '@angular/http';\n\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/observable/of';\nimport 'rxjs/add/operator/first';\n\nimport { AngularFireDatabase } from 'angularfire2/database';\n\nimport { AngularFirestore, AngularFirestoreDocument, AngularFirestoreCollection } from 'angularfire2/firestore';\n\n@Injectable()\nexport class SpotData {\n  private mapCache: any = {};\n  private spotCacheSingle: any = {};\n  private spotCacheQuery: any = {};\n  private spotCacheShallowKeys: any = [];\n  private lastKey = \"\";\n  private lastValue = \"\";\n\n  constructor(public http: Http, public angularFireDatabase: AngularFireDatabase, public fireStore : AngularFirestore) { }\n\n  private loadSpot(spotId: string): Promise<any> {\n    if (spotId in this.spotCacheSingle) {\n      console.log(\"loading single from cache\");\n      return Promise.resolve(this.spotCacheSingle[spotId]);\n    } else {\n      return this.fireStore.doc(`Nspots/${spotId}`).valueChanges().first().map((spot : any) => {\n        this.spotCacheSingle[spotId] = spot;\n        return spot;\n      }).toPromise();\n    }\n  }\n\n  public getSpot(spotId: string) : Promise<any> {\n    return this.loadSpot(spotId);\n  }\n\n  public getUnpublishedSpots() : Observable<any> {\n    let path = 'unpublished'\n    if (path in this.spotCacheQuery) {\n      console.log(\"loading query from cache\");\n      return Observable.of(this.spotCacheQuery[path]);\n    } else {\n      return this.fireStore.collection(`Nspots`, ref => {\n          return ref.where('path', '==', path);\n        }).valueChanges().map((data : any) => {\n          let spots = [];\n          for (let key in data) {\n            if (data.hasOwnProperty(key)) {\n              spots.push(data[key]);\n            }\n          }\n          this.spotCacheQuery[path] = spots;\n          Object.assign(this.spotCacheSingle, spots);\n          return spots;\n        })\n      } \n  }\n\n  public getNextSpot(category: string, spotId: string) : Observable<any>{  \n    const queryObservable = this.angularFireDatabase.list('/fspots',\n      ref => ref.orderByChild('path').startAt(category, spotId).limitToFirst(2));\n\n    return queryObservable.valueChanges().map(spots => {\n      return spots[1];\n    });\n  }\n\n  public getPreviousSpot(category: string, spotId: string) {\n    const queryObservable = this.angularFireDatabase.list('/fspots', \n      ref => ref.orderByChild('path').endAt(category, spotId).limitToLast(2));\n\n    return queryObservable.valueChanges().map(spots => {\n      return spots[0];\n    });\n  }\n\n  public getRandomSpot(): Promise<any> {\n    return new Promise((resolve, reject) => {\n\n      // is shallow list cached?\n      if (this.spotCacheShallowKeys.length > 0) {\n        console.log(\"getting random spot from shallow cache\");\n        let randomIndex = Math.floor(Math.random() * this.spotCacheShallowKeys.length);\n        let key = this.spotCacheShallowKeys[randomIndex];\n        this.getSpot(key).then(spot => {\n          if (!!spot.published) {\n            resolve(spot);\n          } else {\n            resolve(this.getRandomSpot());\n          }\n        });\n\n\n        // no cache\n      } else {\n        this.http.get(firebaseConfig.databaseURL + '/fspots.json?shallow=true')\n          .map(data => {\n            this.spotCacheShallowKeys = Object.keys(data.json());\n            let keys = this.spotCacheShallowKeys;\n            let randomIndex = Math.floor(Math.random() * keys.length);\n            return keys[randomIndex];\n          }).toPromise().then(key => {\n            this.getSpot(key).then(spot => {\n              if (!!spot.published) {\n                resolve(spot);\n              } else {\n                resolve(this.getRandomSpot());\n              }\n            });\n          });\n      }\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/spot-data.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\n/**\n * Generated class for the ImpressumPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-impressum',\n  templateUrl: 'impressum.html',\n})\nexport class ImpressumPage {\n\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ImpressumPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/impressum/impressum.ts","import { Component } from '@angular/core';\nimport { \n  IonicPage, \n  NavController, \n  LoadingController, \n  Loading, \n  AlertController } from 'ionic-angular';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { AuthServiceProvider } from '../../providers/auth-service/auth-service';\nimport { UserProvider } from '../../providers/user/user';\nimport { WelcomePage } from '../welcome/welcome';\nimport { EmailValidator } from '../../validators/email';\nimport { UsernameValidator } from '../../validators/username';\n\n@IonicPage()\n@Component({\n  selector: 'page-signup',\n  templateUrl: 'signup.html',\n})\nexport class SignupPage {\n  public signupForm:FormGroup;\n  public loading:Loading;\n\n  constructor(public nav: NavController, \n    public authProvider: AuthServiceProvider, \n    public formBuilder: FormBuilder, \n    public loadingCtrl: LoadingController, \n    public alertCtrl: AlertController,\n    public userProvider : UserProvider,\n    public usernameValidator: UsernameValidator) {\n\n    this.signupForm = formBuilder.group({\n      username: ['', Validators.compose([Validators.required, Validators.minLength(3)]),this.usernameValidator.isValid.bind(this.usernameValidator)],\n      email: ['', Validators.compose([Validators.required, EmailValidator.isValid])],\n      password: ['', Validators.compose([Validators.minLength(6), Validators.required])]\n    });\n  }\n\n  // property getter for username, email and pw\n  get username() { return this.signupForm.get('username'); }  \n  get email() { return this.signupForm.get('email'); }  \n  get password() { return this.signupForm.get('password'); }  \n\n  ionViewDidLoad() {\n    ga('set', 'page', '/signup');\n    ga('send', 'event', \"page\", \"visit\", \"signup\");\n  }\n\n  /**\n   * If the form is valid it will call the authProvider service to sign the user up password displaying a loading\n   *  component while the user waits.\n   *\n   * If the form is invalid it will just log the form value, feel free to handle that as you like.\n   */\n  signupUser(){\n    if (!this.signupForm.valid){\n      console.log(this.signupForm.value);\n    } else {\n      this.authProvider.signupUser(this.signupForm.value.email, this.signupForm.value.password)\n      .then((user) => {\n        return this.userProvider.createUser({\n          displayName : this.signupForm.value.username,\n          uid : user.uid,\n          email : user.email\n        });\n      })\n      .then((pushId) => {\n        return this.authProvider.addDisplayName(this.signupForm.value.username);\n      })\n      .then(() => {      \n        this.nav.setRoot(WelcomePage);\n      }, (error) => {\n        this.loading.dismiss().then( () => {\n          var errorMessage: string = error.message;\n            let alert = this.alertCtrl.create({\n              message: errorMessage,\n              buttons: [{\n                  text: \"Ok\",\n                  role: 'cancel'\n                }]\n            });\n          alert.present();\n        });\n      });\n\n      this.loading = this.loadingCtrl.create({\n        dismissOnPageChange: true,\n      });\n      this.loading.present();\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, AlertController } from 'ionic-angular';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { AuthServiceProvider } from '../../providers/auth-service/auth-service';\nimport { EmailValidator } from '../../validators/email';\n\nimport { WelcomePage } from '../welcome/welcome';\n\n@IonicPage()\n@Component({\n  selector: 'page-reset-password',\n  templateUrl: 'reset-password.html',\n})\nexport class ResetPasswordPage {\n  public resetPasswordForm:FormGroup;\n\n  constructor(public authData: AuthServiceProvider, public formBuilder: FormBuilder,\n    public nav: NavController, public alertCtrl: AlertController) {\n\n    this.resetPasswordForm = formBuilder.group({\n      email: ['', Validators.compose([Validators.required, EmailValidator.isValid])],\n    })\n  }\n\n  /**\n   * If the form is valid it will call the AuthData service to reset the user's password displaying a loading\n   *  component while the user waits.\n   *\n   * If the form is invalid it will just log the form value, feel free to handle that as you like.\n   */\n  resetPassword(){\n    if (!this.resetPasswordForm.valid){\n      console.log(this.resetPasswordForm.value);\n    } else {\n      this.authData.resetPassword(this.resetPasswordForm.value.email)\n      .then((user) => {\n        let alert = this.alertCtrl.create({\n          message: \"We just sent you a reset link to your email\",\n          buttons: [\n            {\n              text: \"Ok\",\n              role: 'cancel',\n              handler: () => {\n                this.nav.setRoot(WelcomePage);\n              }\n            }\n          ]\n        });\n        alert.present();\n      }, (error) => {\n        var errorMessage: string = error.message;\n        let errorAlert = this.alertCtrl.create({\n          message: errorMessage,\n          buttons: [\n            {\n              text: \"Ok\",\n              role: 'cancel'\n            }\n          ]\n        });\n        errorAlert.present();\n      });\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/reset-password/reset-password.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { SpotData } from '../../providers/spot-data';\nimport { PublishPage } from '../publish/publish'\n\n/**\n * Generated class for the UnpublishedPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'page-unpublished',\n  templateUrl: 'unpublished.html',\n})\nexport class UnpublishedPage {\n\n  spots : Array<any> = [];\n\n  constructor(public spotData: SpotData, public navCtrl: NavController, public navParams: NavParams) {\n    this.spotData.getUnpublishedSpots().subscribe(spots => {\n      let aspots = Object.keys(spots).map(key=>spots[key]);      \n      this.spots = aspots;\n    });\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad UnpublishedPage');\n  }\n\n  spotSelected (spot) {\n    this.navCtrl.push(PublishPage, {\n      spotId : spot.id\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/unpublished/unpublished.ts","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\n\nimport { LoginPage } from '../../pages/login/login';\nimport { AngularFireAuth } from 'angularfire2/auth';\n\nimport { AuthServiceProvider } from '../../providers/auth-service/auth-service';\nimport * as firebase from 'firebase/app';\n\n/**\n * Generated class for the AuthComponent component.\n *\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n * for more info on Angular Components.\n */\n@Component({\n  selector: 'auth',\n  templateUrl: 'auth.html'\n})\nexport class AuthComponent {\n  public userName : string = \"\" ;\n\n  constructor(public navCtrl: NavController, public authServiceProvider : AuthServiceProvider, public afAuth: AngularFireAuth) {\n    afAuth.authState.subscribe((user: firebase.User) => {\n      this.userName = user && user.displayName ? user.displayName : \"\";\n    });\n  }\n\n  logout () {\n    this.authServiceProvider.logoutUser();\n  }\n\n  login () {\n    this.navCtrl.setRoot(LoginPage);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/auth/auth.ts","import { NgModule, ErrorHandler } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { HttpModule } from '@angular/http';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\nimport { MyApp } from './app.component';\nimport { SelectPage } from '../pages/select/select';\nimport { WelcomePage } from '../pages/welcome/welcome';\nimport { StrategyDetailPage } from '../pages/strategy-detail/strategy-detail';\nimport { SubmitPage } from '../pages/submit/submit';\nimport { ImpressumPage } from '../pages/impressum/impressum';\nimport { LoginPage } from '../pages/login/login';\nimport { SignupPage } from '../pages/signup/signup';\nimport { ResetPasswordPage } from '../pages/reset-password/reset-password';\nimport { UserPage } from '../pages/user/user';\nimport { ResultPage } from '../pages/result/result';\nimport { UnpublishedPage } from '../pages/unpublished/unpublished';\nimport { PublishPage } from '../pages/publish/publish';\n\n\nimport { SpotData } from '../providers/spot-data';\nimport { SpotIdData } from '../providers/spotid-data';\nimport { PatchnoteData } from '../providers/patchnote-data';\n\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\nimport { AngularFireAuthModule } from 'angularfire2/auth';\nimport { AngularFirestoreModule } from 'angularfire2/firestore';\nimport { YoutubePlayerComponent } from './youtube-player.component';\nimport { AuthServiceProvider } from '../providers/auth-service/auth-service';\nimport { AuthComponent } from '../components/auth/auth';\nimport { UserProvider } from '../providers/user/user';\n\nimport { UsernameValidator } from '../validators/username';\nimport { SearchProvider } from '../providers/search/search';\n\nimport { IonTagsInputModule } from \"ionic-tags-input\";\nimport { PaginationProvider } from '../providers/pagination/pagination';\nimport { NewsProvider } from '../providers/news/news';\nimport { SpotProvider } from '../providers/spot/spot';\n\nexport const firebaseConfig = {\n  apiKey: \"AIzaSyBj7uFGKWDuKFDx_6nQOhMSRC0cx3vJpCI\",\n  authDomain: \"pubgaddicts-b4ff7.firebaseapp.com\",\n  databaseURL: \"https://pubgaddicts-b4ff7.firebaseio.com\",\n  projectId: \"pubgaddicts-b4ff7\",\n  storageBucket: \"pubgaddicts-b4ff7.appspot.com\",\n  messagingSenderId: \"355134315397\",\n  functionsURL: \"https://us-central1-pubgaddicts-b4ff7.cloudfunctions.net\"\n};\n\n@NgModule({\n  declarations: [\n    MyApp,\n    SelectPage,\n    WelcomePage,\n    StrategyDetailPage,\n    SubmitPage,\n    YoutubePlayerComponent,\n    ImpressumPage,\n    LoginPage,\n    SignupPage,\n    ResetPasswordPage,\n    AuthComponent,\n    UserPage,\n    ResultPage,\n    UnpublishedPage,\n    PublishPage\n  ],\n  imports: [\n    BrowserModule,\n    HttpModule,\n    IonicModule.forRoot(MyApp, {\n      preloadModules: true\n    }, {\n     links: [\n       { component: SelectPage, name: 'Select', segment: 'cat/:category' },\n       { component: StrategyDetailPage, name: 'StrategyDetail', segment: 's/:spotId' },\n       { component: SubmitPage, name: 'SubmitPage', segment: 'submit' },\n       { component: ImpressumPage, name: 'ImpressumPage', segment: 'impressum' },\n       { component: LoginPage, name: 'LoginPage', segment: 'login' },\n       { component: SignupPage, name: 'SignupPage', segment: 'signup' },\n       { component: ResetPasswordPage, name: 'ResetPasswordPage', segment: 'reset-password' },\n       { component: UserPage, name: 'UserPage', segment: 'user/:displayName' },\n       { component: ResultPage, name: 'ResultPage', segment: 'result' },\n       { component: UnpublishedPage, name: 'UnpublishedPage', segment: 'unpublished' },\n       { component: PublishPage, name: 'PublishPage', segment: 'u/:spotId' }\n      ]\n    }),\n    AngularFireModule.initializeApp(firebaseConfig),\n    AngularFireDatabaseModule,\n    AngularFireAuthModule,\n    AngularFirestoreModule,\n    IonTagsInputModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    SelectPage,\n    WelcomePage,\n    SubmitPage,\n    StrategyDetailPage,\n    ImpressumPage,\n    LoginPage,\n    SignupPage,\n    ResetPasswordPage,\n    UserPage,\n    ResultPage,\n    UnpublishedPage,\n    PublishPage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler}, \n    SpotData,\n    PatchnoteData,\n    SpotIdData,\n    AuthServiceProvider,\n    UserProvider,\n    UsernameValidator,\n    SearchProvider,\n    PaginationProvider,\n    NewsProvider,\n    SpotProvider]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { NavController, NavParams, ToastController } from 'ionic-angular';\nimport { PatchnoteData } from '../../providers/patchnote-data';\nimport { SubmitPage } from '../submit/submit';\nimport { Http } from '@angular/http';\nimport { firebaseConfig } from '../../app/app.module';\nimport { ResultPage } from '../result/result';\nimport { AuthServiceProvider } from '../../providers/auth-service/auth-service'\nimport { NewsProvider } from '../../providers/news/news';\n\nimport * as firebase from 'firebase/app';\n\n/*\nGenerated class for the Welcome page.\n\nSee http://ionicframework.com/docs/v2/components/#navigation for more info on\nIonic pages and navigation.\n*/\n@Component({\n  selector: 'page-welcome',\n  templateUrl: 'welcome.html'\n})\nexport class WelcomePage {\n  public patchNotes = [];\n  public patchNotesRepo = [];\n  @ViewChild('searchBar') searchBar: any;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public patchnoteData : PatchnoteData, private http: Http, public authService : AuthServiceProvider, public toastCtrl: ToastController, public newsProvider : NewsProvider) {\n    this.newsProvider.init('news', 'timestamp', { reverse: true, prepend: false })\n/*     \n    \n    if (this.patchNotes.length === 0) {  \n      this.patchnoteData.getInitialPatchNotes().then((initialPatchNotes) => {\n        this.patchNotes = initialPatchNotes;\n      })\n    }\n */  }\n\n  doInfinite(infiniteScroll) {\n    console.log('Begin async operation');\n    this.newsProvider.more();\n\n    this.newsProvider.loading.subscribe((loading : boolean) => {\n      if (!loading && infiniteScroll) {\n        infiniteScroll.complete();\n      }\n    });\n    /* this.patchnoteData.getNextPatchNotes()\n    .then(patchNote => {\n      this.patchNotes.push(patchNote);\n      infiniteScroll.complete();\n      console.log('Async operation has ended');\n    }).catch(reason => {\n      infiniteScroll.complete();\n      console.log(\"No more patchnotes found\");\n    }) */\n  }\n\n  ionViewDidLoad() {\n    ga('set', 'page', '/welcome');\n    ga('send', 'event', \"page\", \"visit\", \"welcome\");\n\n    console.log('ionViewDidLoad WelcomePage');\n  }\n\n  openSubmitPage() {\n    if (this.authService.authenticated) {\n      this.navCtrl.push(SubmitPage);\n    } else {\n      this.toastCtrl.create({\n        message: \"You need to login before submitting new stuff\",\n        duration: 2500\n      }).present();\n    }\n  }\n  search (event) {\n    let val = event.target.value;\n    var that = this;\n    if (val && val.trim() != '' && val.length > 1) {\n      // if not yet displaying result page in details section, display it and switch to the other searchinput\n      this.searchBar.value = \"\";\n      this.navCtrl.push(ResultPage, { query: val });\n      // this.nav.setRoot(ResultPage, { query: val });\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/welcome/welcome.ts","import { Component, ViewChild } from '@angular/core';\nimport { firebaseConfig } from '../../app/app.module';\nimport { NavController, NavParams, ToastController } from 'ionic-angular';\nimport { SpotData } from '../../providers/spot-data';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { AngularFireDatabase, AngularFireObject } from 'angularfire2/database';\nimport { Observable } from 'rxjs/Observable';\n\nimport { SubmitPage } from '../submit/submit';\nimport { UserPage } from '../user/user';\nimport { SelectPage } from '../select/select';\nimport { AngularFirestore, AngularFirestoreDocument } from 'angularfire2/firestore';\n\n\ninterface Spot {\n  rating : number\n}\n/*\n  Generated class for the StrategyDetail page.\n\n  See http://ionicframework.com/docs/v2/components/#navigation for more info on\n  Ionic pages and navigation.\n*/\n@Component({\n  selector: 'page-strategy-detail',\n  templateUrl: 'strategy-detail.html'\n})\nexport class StrategyDetailPage {\n  @ViewChild('container') container;\n  \n  public height: any;\n  private spotId: string;\n  public color;\n     \n  public safeVidUrl : any;\n\n  public categories : any = [];\n\n  public spot = {\n    id : \"\",\n    title : \"\",\n    strategy : \"\",\n    mapName : \"\",\n    startSeconds : 0, \n    endSeconds : 0,\n    videoId : \"\",\n    picture_1 : \"\",\n    picture_2 : \"\",\n    picture_3 : \"\",\n    rating: 0,\n    path: \"\",\n    published: true\n  }\n\n\n  //public afRatingRef: AngularFireObject<any>;\n  public spotDoc : AngularFirestoreDocument<Spot>;\n  public spotObs : Observable<Spot>;\n  public tagRefs : Array<AngularFireObject<any>> = [];\n\n  constructor(public toastCtrl: ToastController, private angularFireDatabase: AngularFireDatabase, public navCtrl: NavController, public navParams: NavParams, public spotData: SpotData, private sanitizer: DomSanitizer, public firestore : AngularFirestore) {\n    this.angularFireDatabase = angularFireDatabase;\n    this.spotId = navParams.get(\"spotId\");\n    this.spotDoc = firestore.doc<Spot>(`/Nspots/${this.spotId}`);\n    this.spotObs = this.spotDoc.valueChanges();\n    //this.afRatingRef = this.angularFireDatabase.object('/Nspots/' + this.spotId + '/rating');\n    this.displaySpot();\n  }\n\n  nextSpot() {\n    this.spotData.getNextSpot(this.spot.path, this.spot.id).subscribe(nextSpot => {\n      this.navCtrl.pop();\n      this.navCtrl.push(StrategyDetailPage, {\n        spotId : nextSpot.id\n      });\n    });\n  }\n\n  previousSpot() {\n    this.spotData.getPreviousSpot(this.spot.path, this.spot.id).subscribe((prevSpot : any) => {\n      this.navCtrl.pop();\n      this.navCtrl.push(StrategyDetailPage, {\n        spotId : prevSpot.id\n      });\n    });\n  }\n\n  displaySpot() {     \n    //this.afRatingRef.snapshotChanges().subscribe();\n    this.spotData.getSpot(this.spotId).then(spot => {\n      for (let tag in spot.tags) {\n        if (spot.tags.hasOwnProperty(tag)) {\n          this.tagRefs.push(this.angularFireDatabase.object('/menu/' + tag + '/spots/' + spot.id + '/rating'))\n        }\n      }\n      \n      this.spot = spot;\n      this.categories = Object.keys(spot.tags);\n      if (this.isGfycat()) {\n        this.safeVidUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\"https://www.gfycat.com/ifr/\" + spot.videoId);\n      }\n      if (this.isTwitch()) {\n        this.safeVidUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\"https://clips.twitch.tv/embed?clip=\" + spot.videoId);\n      }\n      if (this.isStreamable()) {\n        this.safeVidUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\"https://streamable.com/e/\" + spot.videoId);\n      }\n      if (this.isVimeo()) {\n        this.safeVidUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\"https://player.vimeo.com/video/\" + spot.videoId)\n      }\n    });\n  }\n\n  openPage (category) {\n    this.navCtrl.setRoot(SelectPage, {category : category})\n  }\n\n  presentToast(message) {\n    let toast = this.toastCtrl.create({\n      message: message,\n      duration: 7000\n    });\n    toast.present();\n  } \n\n  isGfycat() {\n    return this.spot.strategy === 'gfycat';\n  }\n\n  isTwitch() {\n    return this.spot.strategy === 'twitch';\n  }\n\n  isYouTube() {\n    return this.spot.strategy === 'youtube';\n  }\n\n  isStreamable() {\n    return this.spot.strategy === 'streamable';\n  }\n\n  isVimeo() {\n    return this.spot.strategy === 'vimeo';\n  }\n\n  isReddit() {\n    return this.spot.strategy === 'reddit';\n  }\n\n  getVoteObject() {\n    if (typeof(Storage) !== \"undefined\") {\n      if (!localStorage.getItem(\"votes\")) {\n        localStorage.setItem(\"votes\", \"[]\");\n      } \n      return JSON.parse(localStorage.getItem(\"votes\"));\n    }\n    return [this.spotId]; //means: users with no storage already voted.\n  }\n  \n  setVoteObject(votes) {\n    if (typeof(Storage) !== \"undefined\" && votes) {\n      localStorage.setItem(\"votes\", JSON.stringify(votes));\n    }\n  }\n\n  getFacebookUrl() {\n    return \"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fpubgaddicts.com%2F%23%2Fs%2F\" + this.spotId + \"%2Fdocs%2Fplugins%2F&amp;src=sdkpreparse\"\n  }\n\n  mayVote() {\n    let votes = this.getVoteObject();\n    if (!votes.includes(this.spotId)) {\n      return true;  \n    }\n    return false;\n  }\n\n  openSubmitPage() {\n    this.navCtrl.pop();\n    this.navCtrl.push(SubmitPage);\n  }\n\n  saveVote() {\n    let votes = this.getVoteObject();\n    votes.push(this.spotId);\n    this.setVoteObject(votes);\n  }\n\n  vote(direction: boolean) {\n    let delta = direction ? 1 : -1;    \n    if (this.mayVote()) {\n      this.spot.rating += delta;\n\n      //this.afRatingRef.set(this.spot.rating);\n      this.spotDoc.update({\n        rating : this.spot.rating\n      })\n\n      for (let tagRef in this.tagRefs) {\n        this.tagRefs[tagRef].set(this.spot.rating);        \n      }\n      this.saveVote();\n    }\n  }\n\n  userPressed (spot) {\n    this.navCtrl.pop();\n    this.navCtrl.push(UserPage, {\n      displayName: spot.displayName\n    });\n  }\n\n  ionViewDidLoad() {\n    ga('set', 'page', '/strategy-detail');\n    ga('send', 'event', \"page\", \"visit\", \"stragety-detail\");\n    ga('send', 'event', \"spot\", \"selected\", this.spotId);\n\n    console.log('ionViewDidLoad StrategyDetailPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/strategy-detail/strategy-detail.ts"],"sourceRoot":""}